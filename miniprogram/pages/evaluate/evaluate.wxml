<!--æ•™å­¦è¯„ä»·é¡µé¢-->
<view class="container">
  <!-- é¡¶éƒ¨çŠ¶æ€æ  -->
  <view class="status-bar">
    <view class="status-item">
      <text class="status-number">{{totalCourses}}</text>
      <text class="status-label">æ€»è¯¾ç¨‹</text>
    </view>
    <view class="status-item">
      <text class="status-number">{{evaluatedCourses}}</text>
      <text class="status-label">å·²è¯„ä»·</text>
    </view>
    <view class="status-item">
      <text class="status-number">{{pendingCourses}}</text>
      <text class="status-label">å¾…è¯„ä»·</text>
    </view>
  </view>

  <view class="auto-evaluate-bar">
    <button class="auto-evaluate-btn" bindtap="autoEvaluateAll" loading="{{autoEvaluating}}" disabled="{{autoEvaluating}}">ä¸€é”®è¯„æ•™</button>
    <button class="refresh-btn" bindtap="loadCourseList" disabled="{{autoEvaluating}}">ğŸ”„ åˆ·æ–°</button>
    <text class="auto-evaluate-result">{{autoEvaluateResult}}</text>
  </view>

  <!-- è¯¾ç¨‹åˆ—è¡¨ -->
  <view class="course-list" wx:if="{{courseList.length > 0}}">
    <view class="course-item" wx:for="{{courseList}}" wx:key="course_id" bindtap="goToEvaluateDetail" data-course="{{item}}">
      <view class="course-item-main">
        <view class="course-info">
          <view class="course-title-row">
            <text class="course-name">{{item.course_name}}</text>
            <text class="course-teacher">{{item.teacher}}</text>
          </view>
          <view class="course-sub-row">
            <text class="course-college">{{item.college}}</text>
          </view>
        </view>
        <view class="course-status-block">
          <text class="status-badge {{item.evaluated ? 'evaluated' : 'pending'}}">{{item.evaluated ? 'å·²è¯„ä»·' : 'å¾…è¯„ä»·'}}</text>
          <view class="course-arrow">ã€‰</view>
        </view>
      </view>
    </view>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty-state" wx:if="{{courseList.length === 0 && !loading}}">
    <view class="empty-icon">ğŸ“</view>
    <text class="empty-text">æš‚æ— éœ€è¦è¯„ä»·çš„è¯¾ç¨‹</text>
    <text class="empty-desc">å½“å‰å­¦æœŸæ²¡æœ‰éœ€è¦è¯„ä»·çš„è¯¾ç¨‹ï¼Œæˆ–è¯„ä»·æ—¶é—´å·²ç»“æŸ</text>
  </view>

  <!-- åŠ è½½çŠ¶æ€ -->
  <view class="loading-state" wx:if="{{loading}}">
    <view class="loading-icon">â³</view>
    <text class="loading-text">æ­£åœ¨åŠ è½½è¯„ä»·è¯¾ç¨‹...</text>
  </view>

  <!-- é”™è¯¯çŠ¶æ€ -->
  <view class="error-state" wx:if="{{error && !loading}}">
    <view class="error-icon">âŒ</view>
    <text class="error-text">{{error}}</text>
    <button class="retry-btn" bindtap="loadCourseList">é‡è¯•</button>
  </view>
</view> 